  // ws://127.0.0.0:4040/websocket/ //along with cookies
  
  // Initialization
  CLIENT: {"v": "0.1"}
  SERVER: {"welcome": 1, "user": {/* identified user */} }} //your user generated id (might be attached to your user)
  //Errors; unsupported version, eror should contain list of supported versions
  {"o": "connect-failed", "reason": {/* errors */}}

  {"timeout": 1}


  //HEART BEAT
  {"heart-beat": 1} //1 can be any number
  {"heart-beat-ack": 1} //returns the same number

  // Rooms
  CLIENT: {"r": "8BjK8", "o": "join"} //wants to join the room

  //Server then will synchronize the member list and replay the last 50 messages to you
  SERVER: {"r": "8BjK8", "o": "room-welcome", "data": {
      "members" : [/*identity*/],
  }

  OR

  SERVER: {"r": "8BjK8", "o": "join-failed", "reason": {/* error */}}


  //SYNC MESSAGES
  CLIENT: {"r": "8BjK8", "o": "sync", "data": {
    "from": seqNr
  }

  SERVER: {"r": "8BjK8", "o": "sync", "data" {
    "messages": []
  }

  // Events
  CLIENT: {"r": "8BjK8", "o": "bt"} //server will distribute as is (begin typing) (o: Operation) (r: Room)
  CLIENT: {"r": "8BjK8", "o": "st"} //server will distribute as is (stop typing)
  CLIENT: {"r": "8BjK8", "o": "away"} //Client can should send if the user left the room browser tab
  
  //Sending Message
  {"r": "8BjK8", "o": "msg", "data": {/* message */}} // (msg does not contain a "nr" field and no "time" (it's generated by server))
  // Receiving Message
  //same as sent message, but with Nr + time fields
  
  //Get previous messages; client should send the ID of last message he received
  CLIENT: {"r": "8BjK8", "o": "load", "data": {"last-msg-nr": 23}}
  //Server will respond with a fixed number(10) of messages before this message ID,
  //Server will reply with empty list of messages if it reached the begining of history
  SERVER: {"r": "8BjK8", "o": "load", "data": {"messages": [{/*Messages*/}]}}
  
  //Authentication/Identification
  //Client -> Server
  {identity: "Ahmed Soliman", mail: "ahmed@farghal.com", [token="accessToken"]}
  
  //Server -> Client
  {identified: true} // or error (name exists, similar errors)
  
  
  // Data Structures
  
  // Message
  {"nr": 55, "time": "ISO-DateTime in EJSON format", "sid": "66Gb771399", "body": "text-contents of body", "mentions": [/*mention*/], "attachments":[/*attachment*/]} // (nr: Number, sid: Sender ID)
  //Client Message
  {"sid": "66Gb771399", "body": "text-contents of body", "mentions": [/*mention*/], "attachments":[/*attachment*/]} // (nr: Number, sid: Sender ID)
  
  //Events
  //Begin Typing
  {"r": "8BjK8", "sid": "66Gb771399", "o": "bt", "time": "ISO-DateTime in EJSON format"}
  //Stopped Typing
  {"r": "8BjK8", "sid": "66Gb771399", "o": "st", "time": "ISO-DateTime in EJSON format"}
  //Away
  {"r": "8BjK8", "sid": "66Gb771399", "o": "away", "time": "ISO-DateTime in EJSON format"}
  //Disconnected, Server will distribute this even if the client channel got closed
  {"r": "8BjK8", "sid": "66Gb771399", "o": "disconnect", "time": "ISO-DateTime in EJSON format"}
  
  // Identified User
  {"username": "AhmedSoliman", "color": "#22BBFF", verified: false}